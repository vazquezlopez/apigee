function cov_2nb1zmrpgc(){var path="/home/vazquezlopez/projects-apigee-x/devrel/references/cicd-pipeline/apiproxy/resources/jsc/airportByCode.js";var hash="da84dd2a30a4bf78dca72dbc5a9b8a3b3041378f";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/vazquezlopez/projects-apigee-x/devrel/references/cicd-pipeline/apiproxy/resources/jsc/airportByCode.js",statementMap:{"0":{start:{line:17,column:17},end:{line:20,column:16}},"1":{start:{line:22,column:20},end:{line:22,column:71}},"2":{start:{line:23,column:17},end:{line:23,column:60}},"3":{start:{line:23,column:41},end:{line:23,column:59}},"4":{start:{line:25,column:0},end:{line:29,column:1}},"5":{start:{line:26,column:2},end:{line:26,column:68}},"6":{start:{line:28,column:2},end:{line:28,column:21}},"7":{start:{line:35,column:22},end:{line:35,column:25}},"8":{start:{line:36,column:22},end:{line:36,column:33}},"9":{start:{line:37,column:24},end:{line:47,column:3}},"10":{start:{line:49,column:2},end:{line:49,column:59}},"11":{start:{line:50,column:2},end:{line:50,column:61}},"12":{start:{line:51,column:2},end:{line:51,column:74}},"13":{start:{line:52,column:2},end:{line:52,column:73}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:23,column:34},end:{line:23,column:35}},loc:{start:{line:23,column:41},end:{line:23,column:59}},line:23},"1":{name:"setNotFoundError",decl:{start:{line:34,column:9},end:{line:34,column:25}},loc:{start:{line:34,column:28},end:{line:53,column:1}},line:34}},branchMap:{"0":{loc:{start:{line:25,column:0},end:{line:29,column:1}},type:"if",locations:[{start:{line:25,column:0},end:{line:29,column:1}},{start:{line:25,column:0},end:{line:29,column:1}}],line:25}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},f:{"0":0,"1":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"da84dd2a30a4bf78dca72dbc5a9b8a3b3041378f"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2nb1zmrpgc=function(){return actualCoverage;};}return actualCoverage;}cov_2nb1zmrpgc();/**
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iataCode=(cov_2nb1zmrpgc().s[0]++,context.getVariable("proxy.pathsuffix").split("/")[2].toUpperCase());const allAirports=(cov_2nb1zmrpgc().s[1]++,JSON.parse(context.getVariable("response.content")));const matching=(cov_2nb1zmrpgc().s[2]++,allAirports.find(a=>{cov_2nb1zmrpgc().f[0]++;cov_2nb1zmrpgc().s[3]++;return a.iata==iataCode;}));cov_2nb1zmrpgc().s[4]++;if(matching){cov_2nb1zmrpgc().b[0][0]++;cov_2nb1zmrpgc().s[5]++;context.setVariable("response.content",JSON.stringify(matching));}else{cov_2nb1zmrpgc().b[0][1]++;cov_2nb1zmrpgc().s[6]++;setNotFoundError();}/**
 * Set the 404 Not Found error as a response
 */function setNotFoundError(){cov_2nb1zmrpgc().f[1]++;const errorStatus=(cov_2nb1zmrpgc().s[7]++,404);const errorReason=(cov_2nb1zmrpgc().s[8]++,"Not Found");const errrorContent=(cov_2nb1zmrpgc().s[9]++,{errror:{errors:[{message:errorReason}],code:errorStatus,message:errorReason}});cov_2nb1zmrpgc().s[10]++;context.setVariable("response.status.code",errorStatus);cov_2nb1zmrpgc().s[11]++;context.setVariable("response.reason.phrase",errorReason);cov_2nb1zmrpgc().s[12]++;context.setVariable("response.header.Content-Type","application/json");cov_2nb1zmrpgc().s[13]++;context.setVariable("response.content",JSON.stringify(errrorContent));}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFpcnBvcnRCeUNvZGUuanMiXSwibmFtZXMiOlsiaWF0YUNvZGUiLCJjb250ZXh0IiwiZ2V0VmFyaWFibGUiLCJzcGxpdCIsInRvVXBwZXJDYXNlIiwiYWxsQWlycG9ydHMiLCJKU09OIiwicGFyc2UiLCJtYXRjaGluZyIsImZpbmQiLCJhIiwiaWF0YSIsInNldFZhcmlhYmxlIiwic3RyaW5naWZ5Iiwic2V0Tm90Rm91bmRFcnJvciIsImVycm9yU3RhdHVzIiwiZXJyb3JSZWFzb24iLCJlcnJyb3JDb250ZW50IiwiZXJycm9yIiwiZXJyb3JzIiwibWVzc2FnZSIsImNvZGUiXSwibWFwcGluZ3MiOiJraUVBZVk7MkZBZlo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBRUEsS0FBTUEsQ0FBQUEsUUFBUSwwQkFBR0MsT0FBTyxDQUNyQkMsV0FEYyxDQUNGLGtCQURFLEVBRWRDLEtBRmMsQ0FFUixHQUZRLEVBRUgsQ0FGRyxFQUdkQyxXQUhjLEVBQUgsQ0FBZCxDQUtBLEtBQU1DLENBQUFBLFdBQVcsMEJBQUdDLElBQUksQ0FBQ0MsS0FBTCxDQUFXTixPQUFPLENBQUNDLFdBQVIsQ0FBb0Isa0JBQXBCLENBQVgsQ0FBSCxDQUFqQixDQUNBLEtBQU1NLENBQUFBLFFBQVEsMEJBQUdILFdBQVcsQ0FBQ0ksSUFBWixDQUFrQkMsQ0FBRCxFQUFPLHVEQUFBQSxDQUFBQSxDQUFDLENBQUNDLElBQUYsRUFBVVgsUUFBVixDQUFrQixDQUExQyxDQUFILENBQWQsQyx3QkFFQSxHQUFJUSxRQUFKLENBQWMsb0RBQ1pQLE9BQU8sQ0FBQ1csV0FBUixDQUFvQixrQkFBcEIsQ0FBd0NOLElBQUksQ0FBQ08sU0FBTCxDQUFlTCxRQUFmLENBQXhDLEVBQ0QsQ0FGRCxJQUVPLG9EQUNMTSxnQkFBZ0IsR0FDakIsQ0FFRDtBQUNBO0FBQ0EsR0FDQSxRQUFTQSxDQUFBQSxnQkFBVCxFQUE0Qix5QkFDMUIsS0FBTUMsQ0FBQUEsV0FBVywwQkFBRyxHQUFILENBQWpCLENBQ0EsS0FBTUMsQ0FBQUEsV0FBVywwQkFBRyxXQUFILENBQWpCLENBQ0EsS0FBTUMsQ0FBQUEsYUFBYSwwQkFBRyxDQUNwQkMsTUFBTSxDQUFFLENBQ05DLE1BQU0sQ0FBRSxDQUNOLENBQ0VDLE9BQU8sQ0FBRUosV0FEWCxDQURNLENBREYsQ0FNTkssSUFBSSxDQUFFTixXQU5BLENBT05LLE9BQU8sQ0FBRUosV0FQSCxDQURZLENBQUgsQ0FBbkIsQ0FIMEIseUJBZTFCZixPQUFPLENBQUNXLFdBQVIsQ0FBb0Isc0JBQXBCLENBQTRDRyxXQUE1QyxFQWYwQix5QkFnQjFCZCxPQUFPLENBQUNXLFdBQVIsQ0FBb0Isd0JBQXBCLENBQThDSSxXQUE5QyxFQWhCMEIseUJBaUIxQmYsT0FBTyxDQUFDVyxXQUFSLENBQW9CLDhCQUFwQixDQUFvRCxrQkFBcEQsRUFqQjBCLHlCQWtCMUJYLE9BQU8sQ0FBQ1csV0FBUixDQUFvQixrQkFBcEIsQ0FBd0NOLElBQUksQ0FBQ08sU0FBTCxDQUFlSSxhQUFmLENBQXhDLEVBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuY29uc3QgaWF0YUNvZGUgPSBjb250ZXh0XG4gIC5nZXRWYXJpYWJsZShcInByb3h5LnBhdGhzdWZmaXhcIilcbiAgLnNwbGl0KFwiL1wiKVsyXVxuICAudG9VcHBlckNhc2UoKTtcblxuY29uc3QgYWxsQWlycG9ydHMgPSBKU09OLnBhcnNlKGNvbnRleHQuZ2V0VmFyaWFibGUoXCJyZXNwb25zZS5jb250ZW50XCIpKTtcbmNvbnN0IG1hdGNoaW5nID0gYWxsQWlycG9ydHMuZmluZCgoYSkgPT4gYS5pYXRhID09IGlhdGFDb2RlKTtcblxuaWYgKG1hdGNoaW5nKSB7XG4gIGNvbnRleHQuc2V0VmFyaWFibGUoXCJyZXNwb25zZS5jb250ZW50XCIsIEpTT04uc3RyaW5naWZ5KG1hdGNoaW5nKSk7XG59IGVsc2Uge1xuICBzZXROb3RGb3VuZEVycm9yKCk7XG59XG5cbi8qKlxuICogU2V0IHRoZSA0MDQgTm90IEZvdW5kIGVycm9yIGFzIGEgcmVzcG9uc2VcbiAqL1xuZnVuY3Rpb24gc2V0Tm90Rm91bmRFcnJvcigpIHtcbiAgY29uc3QgZXJyb3JTdGF0dXMgPSA0MDQ7XG4gIGNvbnN0IGVycm9yUmVhc29uID0gXCJOb3QgRm91bmRcIjtcbiAgY29uc3QgZXJycm9yQ29udGVudCA9IHtcbiAgICBlcnJyb3I6IHtcbiAgICAgIGVycm9yczogW1xuICAgICAgICB7XG4gICAgICAgICAgbWVzc2FnZTogZXJyb3JSZWFzb24sXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgY29kZTogZXJyb3JTdGF0dXMsXG4gICAgICBtZXNzYWdlOiBlcnJvclJlYXNvbixcbiAgICB9LFxuICB9O1xuXG4gIGNvbnRleHQuc2V0VmFyaWFibGUoXCJyZXNwb25zZS5zdGF0dXMuY29kZVwiLCBlcnJvclN0YXR1cyk7XG4gIGNvbnRleHQuc2V0VmFyaWFibGUoXCJyZXNwb25zZS5yZWFzb24ucGhyYXNlXCIsIGVycm9yUmVhc29uKTtcbiAgY29udGV4dC5zZXRWYXJpYWJsZShcInJlc3BvbnNlLmhlYWRlci5Db250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICBjb250ZXh0LnNldFZhcmlhYmxlKFwicmVzcG9uc2UuY29udGVudFwiLCBKU09OLnN0cmluZ2lmeShlcnJyb3JDb250ZW50KSk7XG59XG4iXX0=