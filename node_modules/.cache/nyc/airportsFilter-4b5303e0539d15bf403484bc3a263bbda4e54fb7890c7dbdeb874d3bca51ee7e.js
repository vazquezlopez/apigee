function cov_1yooqvxuzl(){var path="/home/vazquezlopez/projects-apigee-x/devrel/references/cicd-pipeline/apiproxy/resources/jsc/airportsFilter.js";var hash="5e16e7cac271c5d0a0ea6476081f3b623efd601f";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/vazquezlopez/projects-apigee-x/devrel/references/cicd-pipeline/apiproxy/resources/jsc/airportsFilter.js",statementMap:{"0":{start:{line:17,column:20},end:{line:17,column:71}},"1":{start:{line:19,column:19},end:{line:19,column:68}},"2":{start:{line:20,column:0},end:{line:22,column:1}},"3":{start:{line:21,column:2},end:{line:21,column:44}},"4":{start:{line:24,column:19},end:{line:24,column:66}},"5":{start:{line:26,column:15},end:{line:26,column:26}},"6":{start:{line:28,column:0},end:{line:32,column:1}},"7":{start:{line:29,column:2},end:{line:31,column:4}},"8":{start:{line:30,column:17},end:{line:30,column:63}},"9":{start:{line:34,column:0},end:{line:36,column:1}},"10":{start:{line:35,column:2},end:{line:35,column:57}},"11":{start:{line:38,column:0},end:{line:38,column:66}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:30,column:4},end:{line:30,column:5}},loc:{start:{line:30,column:17},end:{line:30,column:63}},line:30}},branchMap:{"0":{loc:{start:{line:20,column:0},end:{line:22,column:1}},type:"if",locations:[{start:{line:20,column:0},end:{line:22,column:1}},{start:{line:20,column:0},end:{line:22,column:1}}],line:20},"1":{loc:{start:{line:28,column:0},end:{line:32,column:1}},type:"if",locations:[{start:{line:28,column:0},end:{line:32,column:1}},{start:{line:28,column:0},end:{line:32,column:1}}],line:28},"2":{loc:{start:{line:28,column:4},end:{line:28,column:43}},type:"binary-expr",locations:[{start:{line:28,column:4},end:{line:28,column:16}},{start:{line:28,column:20},end:{line:28,column:43}}],line:28},"3":{loc:{start:{line:34,column:0},end:{line:36,column:1}},type:"if",locations:[{start:{line:34,column:0},end:{line:36,column:1}},{start:{line:34,column:0},end:{line:36,column:1}}],line:34},"4":{loc:{start:{line:34,column:4},end:{line:34,column:32}},type:"binary-expr",locations:[{start:{line:34,column:4},end:{line:34,column:14}},{start:{line:34,column:18},end:{line:34,column:32}}],line:34}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},f:{"0":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5e16e7cac271c5d0a0ea6476081f3b623efd601f"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1yooqvxuzl=function(){return actualCoverage;};}return actualCoverage;}cov_1yooqvxuzl();/**
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const allAirports=(cov_1yooqvxuzl().s[0]++,JSON.parse(context.getVariable("response.content")));var countryParam=(cov_1yooqvxuzl().s[1]++,context.getVariable("request.queryparam.country"));cov_1yooqvxuzl().s[2]++;if(countryParam){cov_1yooqvxuzl().b[0][0]++;cov_1yooqvxuzl().s[3]++;countryParam=countryParam.toLowerCase();}else{cov_1yooqvxuzl().b[0][1]++;}const limitParam=(cov_1yooqvxuzl().s[4]++,context.getVariable("request.queryparam.limit"));var filtered=(cov_1yooqvxuzl().s[5]++,allAirports);cov_1yooqvxuzl().s[6]++;if((cov_1yooqvxuzl().b[2][0]++,countryParam)&&(cov_1yooqvxuzl().b[2][1]++,countryParam.length>0)){cov_1yooqvxuzl().b[1][0]++;cov_1yooqvxuzl().s[7]++;filtered=filtered.filter(airport=>{cov_1yooqvxuzl().f[0]++;cov_1yooqvxuzl().s[8]++;return airport.country.toLowerCase()===countryParam;});}else{cov_1yooqvxuzl().b[1][1]++;}cov_1yooqvxuzl().s[9]++;if((cov_1yooqvxuzl().b[4][0]++,limitParam)&&(cov_1yooqvxuzl().b[4][1]++,limitParam>0)){cov_1yooqvxuzl().b[3][0]++;cov_1yooqvxuzl().s[10]++;filtered=filtered.slice(0,parseInt(limitParam,10));}else{cov_1yooqvxuzl().b[3][1]++;}cov_1yooqvxuzl().s[11]++;context.setVariable("response.content",JSON.stringify(filtered));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFpcnBvcnRzRmlsdGVyLmpzIl0sIm5hbWVzIjpbImFsbEFpcnBvcnRzIiwiSlNPTiIsInBhcnNlIiwiY29udGV4dCIsImdldFZhcmlhYmxlIiwiY291bnRyeVBhcmFtIiwidG9Mb3dlckNhc2UiLCJsaW1pdFBhcmFtIiwiZmlsdGVyZWQiLCJsZW5ndGgiLCJmaWx0ZXIiLCJhaXJwb3J0IiwiY291bnRyeSIsInNsaWNlIiwicGFyc2VJbnQiLCJzZXRWYXJpYWJsZSIsInN0cmluZ2lmeSJdLCJtYXBwaW5ncyI6IitqRkFlWTsyRkFmWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FFQSxLQUFNQSxDQUFBQSxXQUFXLDBCQUFHQyxJQUFJLENBQUNDLEtBQUwsQ0FBV0MsT0FBTyxDQUFDQyxXQUFSLENBQW9CLGtCQUFwQixDQUFYLENBQUgsQ0FBakIsQ0FFQSxHQUFJQyxDQUFBQSxZQUFZLDBCQUFHRixPQUFPLENBQUNDLFdBQVIsQ0FBb0IsNEJBQXBCLENBQUgsQ0FBaEIsQyx3QkFDQSxHQUFJQyxZQUFKLENBQWtCLG9EQUNoQkEsWUFBWSxDQUFHQSxZQUFZLENBQUNDLFdBQWIsRUFBZixDQUNELENBRkQsaUNBSUEsS0FBTUMsQ0FBQUEsVUFBVSwwQkFBR0osT0FBTyxDQUFDQyxXQUFSLENBQW9CLDBCQUFwQixDQUFILENBQWhCLENBRUEsR0FBSUksQ0FBQUEsUUFBUSwwQkFBR1IsV0FBSCxDQUFaLEMsd0JBRUEsR0FBSSw0QkFBQUssWUFBWSwrQkFBSUEsWUFBWSxDQUFDSSxNQUFiLENBQXNCLENBQTFCLENBQWhCLENBQTZDLG9EQUMzQ0QsUUFBUSxDQUFHQSxRQUFRLENBQUNFLE1BQVQsQ0FDUkMsT0FBRCxFQUFhLHVEQUFBQSxDQUFBQSxPQUFPLENBQUNDLE9BQVIsQ0FBZ0JOLFdBQWhCLEtBQWtDRCxZQUFsQyxDQUE4QyxDQURsRCxDQUFYLENBR0QsQ0FKRCxpQyx3QkFNQSxHQUFJLDRCQUFBRSxVQUFVLCtCQUFJQSxVQUFVLENBQUcsQ0FBakIsQ0FBZCxDQUFrQyxxREFDaENDLFFBQVEsQ0FBR0EsUUFBUSxDQUFDSyxLQUFULENBQWUsQ0FBZixDQUFrQkMsUUFBUSxDQUFDUCxVQUFELENBQWEsRUFBYixDQUExQixDQUFYLENBQ0QsQ0FGRCxpQyx5QkFJQUosT0FBTyxDQUFDWSxXQUFSLENBQW9CLGtCQUFwQixDQUF3Q2QsSUFBSSxDQUFDZSxTQUFMLENBQWVSLFFBQWYsQ0FBeEMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmNvbnN0IGFsbEFpcnBvcnRzID0gSlNPTi5wYXJzZShjb250ZXh0LmdldFZhcmlhYmxlKFwicmVzcG9uc2UuY29udGVudFwiKSk7XG5cbnZhciBjb3VudHJ5UGFyYW0gPSBjb250ZXh0LmdldFZhcmlhYmxlKFwicmVxdWVzdC5xdWVyeXBhcmFtLmNvdW50cnlcIik7XG5pZiAoY291bnRyeVBhcmFtKSB7XG4gIGNvdW50cnlQYXJhbSA9IGNvdW50cnlQYXJhbS50b0xvd2VyQ2FzZSgpO1xufVxuXG5jb25zdCBsaW1pdFBhcmFtID0gY29udGV4dC5nZXRWYXJpYWJsZShcInJlcXVlc3QucXVlcnlwYXJhbS5saW1pdFwiKTtcblxudmFyIGZpbHRlcmVkID0gYWxsQWlycG9ydHM7XG5cbmlmIChjb3VudHJ5UGFyYW0gJiYgY291bnRyeVBhcmFtLmxlbmd0aCA+IDApIHtcbiAgZmlsdGVyZWQgPSBmaWx0ZXJlZC5maWx0ZXIoXG4gICAgKGFpcnBvcnQpID0+IGFpcnBvcnQuY291bnRyeS50b0xvd2VyQ2FzZSgpID09PSBjb3VudHJ5UGFyYW1cbiAgKTtcbn1cblxuaWYgKGxpbWl0UGFyYW0gJiYgbGltaXRQYXJhbSA+IDApIHtcbiAgZmlsdGVyZWQgPSBmaWx0ZXJlZC5zbGljZSgwLCBwYXJzZUludChsaW1pdFBhcmFtLCAxMCkpO1xufVxuXG5jb250ZXh0LnNldFZhcmlhYmxlKFwicmVzcG9uc2UuY29udGVudFwiLCBKU09OLnN0cmluZ2lmeShmaWx0ZXJlZCkpO1xuIl19